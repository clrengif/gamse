EDRS2 Documentation
=====================

.. automodule:: edrs
   :members:


Introduction
-------------

.. figure::  images/EDRS2_150x87.png
   :align:   right

**EDRS2** (**E**\ chelle **D**\ ata **R**\ eduction **S**\ oftware **2**\ ) is the package for extracting one-dimensional spectra from the raw images generated by échelle spectrographs. The first version of EDRS was developed by Thomas Gehren for reducing the FOCES (Fiber Optics Cassegrain Échelle Spectrograph, Pfeiffer et al. 1998 [#Pfeiffer1998]_\ ) data in 1993 with the IDL programming language, and was later revised by Frank Grupp in 2007. EDRS2 is designed as a generic package that can be easily adapted to different échelle spectrographs, and is particularly optimized for laser frequency comb, which is able to provide an ideal wavelength scale in precise Doppler survey (e.g. Steinmetz et al. 2008 [#Steinmetz2008]_\ , Wilken et al. 2012 [#Wilken2012]_\ ). EDRS2 is used to reduce the data taken with the updated FOCES mounted on the 2.1m Fraunhofer Telescope located on Wendelstein Observatory in Bavaria, Germany.

Modes of execution 
-------------------
This software package is designed to be easily adapted the data taken with an other echelle spectrograph.

The software has three modii namely:
    * **normal**
        Mode for the normal day to day use.
    * **learn**
        Mode to teach the code to reduce data from other echelle spectrographs then FOCES.
    * **compare**
        This mode compare the results obtained with this data reduction pipline to other reduction piplines.


Supported Spectrographs
-------------------------
* :ref:`FOCES<pipeline_foces>` on 2m Fraunhofer Telescope in Wendelstein Observatory
* :ref:`HRS<pipeline_xinglong216hrs>` on 2.16m telescope in Xinglong Observatory
* :ref:`Levy<>` on APF
.. * :ref:`HIRES<pipeline_hires>` on 10m Keck II Telescope in  W. M. Keck Observatory

Steps performed by the software
--------------------------------
The pipline performs the correction and wavelength calibration of the science data (therfore reduces the 2d image taken by the echelle spectrograph to a 1d list containing the normalisied photons over wavelength data). To do so the following tasks are performed:

    1. Overscan correction
    2. Bias subtraction
    3. Dark subtraction
    4. Order tracing
    5. Background subtraction
    6. Flatfield correction
    7. Wavelength calibration


See also
--------
* :ref:`Structure of output FITS files<fits_output>`


Indices and Tables
--------------------

* :ref:`genindex`
* :ref:`modindex`
* :ref:`search`


References
--------------
.. [#Pfeiffer1998] Pfeiffer et al., 1998, *A&AS*, 130, 381 :ads:`1998A&AS..130..381P`
.. [#Steinmetz2008] Steinmetz et al., 2008, *Science*, 321, 1335 :ads:`2008Sci...321.1335S`
.. [#Wilken2012] Wilken et al., 2012, *Nature*, 485, 611 :ads:`2012Natur.485..611W`
